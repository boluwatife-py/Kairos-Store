{% extends 'base.html' %}
{% load static %}
{% block title %}Kairos Store - Premium Beats{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative pt-16 overflow-hidden">
  <div class="absolute inset-0" style="background-image: url('{% static 'images/base1.jpg' %}'); background-size: cover; background-position: center;"></div>
  <div class="absolute inset-0 bg-gradient-to-r from-gray-900 via-gray-900/80 to-transparent"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
    <div class="max-w-2xl">
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">
        Premium Beats for Ambitious Artists
      </h1>
      <p class="text-lg md:text-xl text-gray-300 mb-8">
        Discover exclusive beats produced by Kairos. Elevate your sound with
        our professionally crafted instrumentals.
      </p>
      <div class="flex flex-wrap gap-4">
        <a href="{% url 'store:beats' %}" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-button font-medium transition-colors whitespace-nowrap">
          Explore Beats
        </a>
        <button class="bg-transparent border border-white/30 hover:border-white/50 text-white px-6 py-3 rounded-button font-medium transition-colors flex items-center gap-2 whitespace-nowrap">
          <i class="ri-play-circle-line ri-lg"></i>
          Listen to Samples
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Search and Filters -->
<section class="py-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <div class="glass rounded-lg p-6">
    <div class="relative mb-6">
      <input type="text" placeholder="Search beats by name, genre or mood..." class="w-full bg-gray-800/50 border border-gray-700 text-white px-4 py-3 pr-10 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" />
      <div class="absolute right-3 top-1/2 transform -translate-y-1/2 w-6 h-6 flex items-center justify-center">
        <i class="ri-search-line text-gray-400"></i>
      </div>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Genre</label>
        <div class="relative">
          <button class="w-full bg-gray-800/50 border border-gray-700 text-white px-4 py-2.5 rounded text-left flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-primary">
            <span>All Genres</span>
            <i class="ri-arrow-down-s-line"></i>
          </button>
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">BPM Range</label>
        <div class="flex items-center gap-4">
          <input type="range" min="60" max="200" value="140" class="bpm-range flex-grow" />
          <span class="text-white bg-gray-800 px-2 py-1 rounded text-sm">140 BPM</span>
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-400 mb-2">Sort By</label>
        <div class="relative">
          <button class="w-full bg-gray-800/50 border border-gray-700 text-white px-4 py-2.5 rounded text-left flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-primary">
            <span>Newest First</span>
            <i class="ri-arrow-down-s-line"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="flex flex-wrap gap-2 mt-6">
      <div class="bg-primary/20 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-1">
        Hip Hop
        <button class="w-4 h-4 flex items-center justify-center">
          <i class="ri-close-line"></i>
        </button>
      </div>
      <div class="bg-primary/20 text-primary px-3 py-1 rounded-full text-sm flex items-center gap-1">
        90-120 BPM
        <button class="w-4 h-4 flex items-center justify-center">
          <i class="ri-close-line"></i>
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Featured Beats -->
<section class="py-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <h2 class="text-3xl font-bold text-white mb-8">Featured Beats</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for beat in featured_beats %}
      {% include 'components/beat_card.html' with beat=beat %}
    {% empty %}
      <div class="col-span-3 text-center py-12">
        <p class="text-gray-400">No featured beats available at the moment.</p>
      </div>
    {% endfor %}
  </div>
</section>

<!-- New Releases -->
<section class="py-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <h2 class="text-3xl font-bold text-white mb-8">New Releases</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {% for beat in new_releases %}
      {% include 'components/beat_card.html' with beat=beat %}
    {% empty %}
      <div class="col-span-3 text-center py-12">
        <p class="text-gray-400">No new releases available at the moment.</p>
      </div>
    {% endfor %}
  </div>
  <div class="mt-10 text-center">
    <a href="{% url 'store:beats' %}" class="bg-transparent border border-white/30 hover:border-white/50 text-white px-6 py-3 rounded-button font-medium transition-colors whitespace-nowrap">
      View All Beats
    </a>
  </div>
</section>

<!-- Beat Bundles -->
<section class="py-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <h2 class="text-3xl font-bold text-white mb-8">Beat Bundles</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for bundle in bundles %}
      {% include 'components/bundle_card.html' with bundle=bundle %}
    {% empty %}
      <div class="col-span-2 text-center py-12">
        <p class="text-gray-400">No bundles available at the moment.</p>
      </div>
    {% endfor %}
  </div>
</section>

<!-- Testimonials -->
<section class="py-12 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <h2 class="text-3xl font-bold text-white mb-8">What Our Artists Say</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    {% for testimonial in testimonials %}
      <div class="glass-card rounded-lg p-6">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-gray-800 rounded-full flex-shrink-0"></div>
          <div class="ml-4">
            <h4 class="text-white font-medium">{{ testimonial.name }}</h4>
            <p class="text-gray-400 text-sm">{{ testimonial.role }}</p>
          </div>
        </div>
        <p class="text-gray-300 mb-4">{{ testimonial.content }}</p>
        <div class="flex items-center">
          <div class="flex text-yellow-400">
            {% for i in "12345" %}
              {% if forloop.counter <= testimonial.rating %}
                <i class="ri-star-fill"></i>
              {% else %}
                <i class="ri-star-line"></i>
              {% endif %}
            {% endfor %}
          </div>
          <span class="text-gray-400 text-sm ml-2">{{ testimonial.rating }}/5</span>
        </div>
      </div>
    {% empty %}
      <div class="col-span-3 text-center py-12">
        <p class="text-gray-400">No testimonials available at the moment.</p>
      </div>
    {% endfor %}
  </div>
</section>

<!-- Newsletter -->
<section class="py-16 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
  <div class="glass rounded-lg p-8 md:p-12">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl font-bold text-white mb-4">Get Exclusive Beats</h2>
      <p class="text-gray-300 mb-8">
        Subscribe to receive free beats, exclusive discounts, and early
        access to new releases.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
        <input type="email" placeholder="Your email address" class="flex-grow bg-gray-800/50 border border-gray-700 text-white px-4 py-3 rounded focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" />
        <button class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-button font-medium transition-colors whitespace-nowrap">
          Subscribe
        </button>
      </div>
      <p class="text-gray-400 text-sm mt-4">
        We respect your privacy. Unsubscribe at any time.
      </p>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const userMenuButton = document.getElementById("userMenuButton");
    const userDropdownMenu = document.getElementById("userDropdownMenu");
    const loggedInMenu = document.getElementById("loggedInMenu");
    const loggedOutMenu = document.getElementById("loggedOutMenu");

    const isLoggedIn = false;

    if (isLoggedIn) {
      loggedInMenu.classList.remove("hidden");
      loggedOutMenu.classList.add("hidden");
    } else {
      loggedInMenu.classList.add("hidden");
      loggedOutMenu.classList.remove("hidden");
    }

    userMenuButton.addEventListener("click", (e) => {
      e.stopPropagation();
      userDropdownMenu.classList.toggle("hidden");
    });

    document.addEventListener("click", (e) => {
      if (!userMenuButton.contains(e.target) && !userDropdownMenu.contains(e.target)) {
        userDropdownMenu.classList.add("hidden");
      }
    });

    // Simulate audio player functionality
    const playButtons = document.querySelectorAll(".equalizer");
    playButtons.forEach((button) => {
      button.addEventListener("click", function () {
        // Toggle animation
        const spans = this.querySelectorAll("span");
        spans.forEach((span) => {
          span.style.animationPlayState = span.style.animationPlayState === "paused" ? "running" : "paused";
        });
      });
    });
  });

  document.addEventListener("DOMContentLoaded", function () {
    // BPM Range slider
    const bpmRange = document.querySelector(".bpm-range");
    const bpmValue = bpmRange.nextElementSibling;
    bpmRange.addEventListener("input", function () {
      bpmValue.textContent = this.value + " BPM";
    });
  });
</script>
{% endblock %}
