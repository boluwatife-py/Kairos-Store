{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Kairos Store - Premium Beats{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: { primary: "#6d28d9", secondary: "#3b82f6" },
            borderRadius: {
              none: "0px",
              sm: "4px",
              DEFAULT: "8px",
              md: "12px",
              lg: "16px",
              xl: "20px",
              "2xl": "24px",
              "3xl": "32px",
              full: "9999px",
              button: "8px",
            },
          },
        },
      };
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css"
    />
    {% block extra_css %}{% endblock %}
    <style>
      :where([class^="ri-"])::before {
        content: "\f3c2";
      }
      body {
        font-family: "Inter", sans-serif;
        background-color: #1f2937;
        color: #f9fafb;
      }
      .glass {
        background: rgba(31, 41, 55, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .glass-card {
        background: rgba(31, 41, 55, 0.5);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
      }
      .glass-card:hover {
        transform: translateY(-5px) scale(1.02);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(109, 40, 217, 0.3);
      }
      .hero-gradient {
        background: linear-gradient(
          to right,
          rgba(31, 41, 55, 0.9),
          rgba(31, 41, 55, 0.7),
          rgba(31, 41, 55, 0.4),
          rgba(31, 41, 55, 0.1)
        );
      }
      .audio-progress {
        -webkit-appearance: none;
        appearance: none;
        height: 4px;
        border-radius: 2px;
        background: rgba(255, 255, 255, 0.2);
        outline: none;
      }
      .audio-progress::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #6d28d9;
        cursor: pointer;
      }
      .bpm-range {
        -webkit-appearance: none;
        appearance: none;
        height: 4px;
        border-radius: 2px;
        background: rgba(255, 255, 255, 0.2);
        outline: none;
      }
      .bpm-range::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: #6d28d9;
        cursor: pointer;
      }
      input[type="checkbox"] {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 4px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        background: rgba(31, 41, 55, 0.5);
        position: relative;
        cursor: pointer;
      }
      input[type="checkbox"]:checked {
        background: #6d28d9;
        border-color: #6d28d9;
      }
      input[type="checkbox"]:checked::after {
        content: "";
        position: absolute;
        width: 5px;
        height: 10px;
        border: solid white;
        border-width: 0 2px 2px 0;
        top: 2px;
        left: 6px;
        transform: rotate(45deg);
      }
      .switch {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 24px;
      }
      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(31, 41, 55, 0.5);
        transition: 0.4s;
        border-radius: 24px;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }
      .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 2px;
        background-color: white;
        transition: 0.4s;
        border-radius: 50%;
      }
      input:checked + .slider {
        background-color: #6d28d9;
      }
      input:checked + .slider:before {
        transform: translateX(20px);
      }
      .equalizer {
        display: flex;
        align-items: flex-end;
        height: 16px;
        gap: 2px;
      }
      .equalizer span {
        width: 2px;
        background-color: #6d28d9;
        border-radius: 1px;
        animation: equalize 1s infinite;
      }
      .equalizer span:nth-child(1) {
        animation-delay: 0.1s;
      }
      .equalizer span:nth-child(2) {
        animation-delay: 0.3s;
      }
      .equalizer span:nth-child(3) {
        animation-delay: 0.5s;
      }
      .equalizer span:nth-child(4) {
        animation-delay: 0.2s;
      }
      @keyframes equalize {
        0% {
          height: 3px;
        }
        50% {
          height: 12px;
        }
        100% {
          height: 5px;
        }
      }
      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }
    </style>
  </head>
  <body class="min-h-screen">
    {% include 'components/navbar.html' %}
    
    {% block content %}{% endblock %}
    
    {% include 'components/footer.html' %}
    {% include 'components/audio_player.html' %}
    {% include 'components/cart_modal.html' %}
    {% include 'components/auth_modals.html' %}

    {% block extra_js %}{% endblock %}
    <script src="{% static 'js/cart.js' %}"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Auth Modals
        const loginModal = document.getElementById("loginModal");
        const registrationModal = document.getElementById("registrationModal");
        const closeLoginModal = document.getElementById("closeLoginModal");
        const closeRegistrationModal = document.getElementById("closeRegistrationModal");
        const signupLink = document.getElementById("signupLink");
        const loginLinkFromRegistration = document.getElementById("loginLinkFromRegistration");
        const loginLink = document.getElementById("loginLink");
        const registerLink = document.getElementById("registerLink");

        if (loginLink) {
          loginLink.addEventListener("click", function (e) {
            e.preventDefault();
            if (loginModal) loginModal.classList.remove("hidden");
          });
        }

        if (registerLink) {
          registerLink.addEventListener("click", function (e) {
            e.preventDefault();
            if (registrationModal) registrationModal.classList.remove("hidden");
          });
        }

        if (closeLoginModal) {
          closeLoginModal.addEventListener("click", function () {
            if (loginModal) loginModal.classList.add("hidden");
          });
        }

        if (closeRegistrationModal) {
          closeRegistrationModal.addEventListener("click", function () {
            if (registrationModal) registrationModal.classList.add("hidden");
          });
        }

        if (signupLink) {
          signupLink.addEventListener("click", function (e) {
            e.preventDefault();
            if (loginModal) loginModal.classList.add("hidden");
            if (registrationModal) registrationModal.classList.remove("hidden");
          });
        }

        if (loginLinkFromRegistration) {
          loginLinkFromRegistration.addEventListener("click", function (e) {
            e.preventDefault();
            if (registrationModal) registrationModal.classList.add("hidden");
            if (loginModal) loginModal.classList.remove("hidden");
          });
        }

        // Close modals when clicking outside
        window.addEventListener("click", function (e) {
          if (loginModal && e.target === loginModal) {
            loginModal.classList.add("hidden");
          }
          if (registrationModal && e.target === registrationModal) {
            registrationModal.classList.add("hidden");
          }
        });

        // Form validation
        const registrationForm = document.getElementById("registrationForm");
        if (registrationForm) {
          registrationForm.addEventListener("submit", function (e) {
            const username = document.getElementById("id_username");
            const password1 = document.getElementById("id_password1");
            const password2 = document.getElementById("id_password2");

            if (!username || !password1 || !password2) {
              e.preventDefault();
              return;
            }

            if (password1.value.length < 8) {
              e.preventDefault();
              alert("Password must be at least 8 characters long");
              return;
            }

            if (password1.value !== password2.value) {
              e.preventDefault();
              alert("Passwords do not match");
              return;
            }
          });
        }

        const loginForm = document.getElementById("loginForm");
        if (loginForm) {
          loginForm.addEventListener("submit", function (e) {
            const username = document.getElementById("id_username");
            const password = document.getElementById("id_password");

            if (!username || !password) {
              e.preventDefault();
              return;
            }
          });
        }
      });
    </script>
  </body>
</html> 